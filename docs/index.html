<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Canvas LMS in Lua</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>canvas-lms</h1>


<h2>Contents</h2>
<ul>
<li><a href="#canvas_lms_config_Functions">canvas-lms.config Functions</a></li>
<li><a href="#canvas_lms_http_Functions">canvas-lms.http Functions</a></li>
<li><a href="#canvas_lms_datetime_Functions">canvas-lms.datetime Functions</a></li>
<li><a href="#canvas_lms_assign_Functions">canvas-lms.assign Functions</a></li>
<li><a href="#canvas_lms_discuss_Functions">canvas-lms.discuss Functions</a></li>
<li><a href="#canvas_lms_grades_Functions">canvas-lms.grades Functions</a></li>
<li><a href="#canvas_lms_message_Functions">canvas-lms.message Functions</a></li>
<li><a href="#canvas_lms_modules_pages_Functions">canvas-lms.modules-pages Functions</a></li>
<li><a href="#canvas_lms_rubrics_Functions">canvas-lms.rubrics Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>canvas</strong></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="topics/01-introduction.md.html">Getting started</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>canvas</code></h1>
<p>User interface for managing Canvas LMS courses using its REST API.</p>
<p> There is a single table used in an object-like way for interacting with a single Canvas course.
 The functions below are stored within the canvas table and store their data and metadata in the same table.</p>


<h2><a href="#canvas_lms_config_Functions">canvas-lms.config Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#set_debug">set_debug (bool)</a></td>
	<td class="summary">Set debug status, which disables interaction with the live Canvas API</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_verbose">set_verbose (num)</a></td>
	<td class="summary">Set verbose status, which echoes all interaction with the Canvas API
 Default = 0, which hides most things</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_course_id">set_course_id (str)</a></td>
	<td class="summary">Set course ID, which defines course prefix.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_url">set_url (str)</a></td>
	<td class="summary">Set Canvas URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_token">set_token (str)</a></td>
	<td class="summary">Set user token for authenticated to API (keep this secret!).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_cache_dir">set_cache_dir (str)</a></td>
	<td class="summary">Set folder for storing cache files of this library.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_first_monday">set_first_monday (arg)</a></td>
	<td class="summary">Set date of first Monday of teaching interval (multiple allowed).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_break_week">set_break_week (arg)</a></td>
	<td class="summary">Set last week before mid-interval break (multiple allowed).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_break_length">set_break_length (arg)</a></td>
	<td class="summary">Set number of weeks of mid-interval break (multiple allowed).</td>
	</tr>
</table>
<h2><a href="#canvas_lms_http_Functions">canvas-lms.http Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_pages">get_pages (download_bool, req, opt_arg)</a></td>
	<td class="summary">Paginated GET.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#define_getter">define_getter (field_name, index_name_arg, opt_default)</a></td>
	<td class="summary">Define getter function to retrieve and store item metadata.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get">get (req, opt)</a></td>
	<td class="summary">Wrapper for GET.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#post">post (req, opt)</a></td>
	<td class="summary">Wrapper for POST.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#put">put (req, opt)</a></td>
	<td class="summary">Wrapper for PUT.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#delete">delete (req, opt)</a></td>
	<td class="summary">Wrapper for DELETE.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#file_upload">file_upload (opt)</a></td>
	<td class="summary">Upload a file to a Canvas course
 The process for uploading files to Canvas is <a href="https://canvas.instructure.com/doc/api/file.file_uploads.html#method.file_uploads.post">documented here</a>.</td>
	</tr>
</table>
<h2><a href="#canvas_lms_datetime_Functions">canvas-lms.datetime Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#datetime">datetime (args)</a></td>
	<td class="summary">Calculate the datetime from a table of "logical" date and time declarations.</td>
	</tr>
</table>
<h2><a href="#canvas_lms_assign_Functions">canvas-lms.assign Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_assignments">get_assignments ()</a></td>
	<td class="summary">Get assignments
 Data stored in <code>.assignments</code> table, indexed by assignment <code>name</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_assignment_groups">get_assignment_groups ()</a></td>
	<td class="summary">Get assignment groups IDs.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#assign_group_args">assign_group_args</a></td>
	<td class="summary">Setup assignment group arguments
 The function <a href="index.html#setup_assignment_groups">canvas:setup_assignment_groups</a> takes a single table of arguments.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setup_assignment_groups">setup_assignment_groups (args)</a></td>
	<td class="summary">Set up assignment groups.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_assignment">get_assignment (use_cache_bool, assign_name, assign_opts)</a></td>
	<td class="summary">Get full details of a single assignment</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#create_assignment_args">create_assignment_args</a></td>
	<td class="summary">Create assignment arguments</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#create_assignment">create_assignment (args)</a></td>
	<td class="summary">Create a Canvas assignment.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#check_assignments">check_assignments ()</a></td>
	<td class="summary">Compare assignments in Canvas to what has been defined locally.</td>
	</tr>
</table>
<h2><a href="#canvas_lms_discuss_Functions">canvas-lms.discuss Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_discussion_topics">get_discussion_topics ()</a></td>
	<td class="summary">Get discussion topics and store their metadata and IDs.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setup_discussion_topics">setup_discussion_topics (args)</a></td>
	<td class="summary">Create/edit up discussion topics.</td>
	</tr>
</table>
<h2><a href="#canvas_lms_grades_Functions">canvas-lms.grades Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_grade_columns">get_grade_columns ()</a></td>
	<td class="summary">Retrieve and store the names and IDs of any added custom gradebook columns</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setup_grade_columns">setup_grade_columns (columns)</a></td>
	<td class="summary">Create custom gradebook columns
 Currently this function only creates, not updates!</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_assign_grades">get_assign_grades (opt)</a></td>
	<td class="summary">Retrieve and store grades from specified assignments</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#write_grades">write_grades (gfile, assign_names)</a></td>
	<td class="summary">Write grades to CSV from specified assignments</td>
	</tr>
</table>
<h2><a href="#canvas_lms_message_Functions">canvas-lms.message Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#message_user_args">message_user_args</a></td>
	<td class="summary">Message user table arguments.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#message_user">message_user (send_check, msg)</a></td>
	<td class="summary">Message a specific Canvas user.</td>
	</tr>
</table>
<h2><a href="#canvas_lms_modules_pages_Functions">canvas-lms.modules-pages Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_modules">get_modules ()</a></td>
	<td class="summary">Get all Canvas modules and store their metadata.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setup_modules">setup_modules (modules)</a></td>
	<td class="summary">Create/edit all modules.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#update_module">update_module (module_name, ask, items)</a></td>
	<td class="summary">Create/edit contents of an individual module.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#check_modules">check_modules ()</a></td>
	<td class="summary">Suite of sanity checks for all Canvas modules.</td>
	</tr>
</table>
<h2><a href="#canvas_lms_rubrics_Functions">canvas-lms.rubrics Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_rubrics">get_rubrics ()</a></td>
	<td class="summary">Get all course rubrics and store their metadata.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#send_rubric">send_rubric (self, rubric)</a></td>
	<td class="summary">Send a rubric to Canvas.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#assoc_rubric">assoc_rubric (self, args)</a></td>
	<td class="summary">Associate a rubric to an assignment.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#rubric_from_csv">rubric_from_csv (csvfile)</a></td>
	<td class="summary">Read in a carefully structure CSV file and convert it into a rubric.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setup_csv_rubrics">setup_csv_rubrics (self, args)</a></td>
	<td class="summary">Read a collection of CSV files and create rubrics from them all.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="canvas_lms_config_Functions"></a>canvas-lms.config Functions</h2>

    <dl class="function">
    <dt>
    <a name = "set_debug"></a>
    <strong>set_debug (bool)</strong>
    </dt>
    <dd>
    Set debug status, which disables interaction with the live Canvas API


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">bool</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_verbose"></a>
    <strong>set_verbose (num)</strong>
    </dt>
    <dd>
    Set verbose status, which echoes all interaction with the Canvas API
 Default = 0, which hides most things


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">num</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_course_id"></a>
    <strong>set_course_id (str)</strong>
    </dt>
    <dd>
    Set course ID, which defines course prefix.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_url"></a>
    <strong>set_url (str)</strong>
    </dt>
    <dd>
    Set Canvas URL.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_token"></a>
    <strong>set_token (str)</strong>
    </dt>
    <dd>
    Set user token for authenticated to API (keep this secret!).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_cache_dir"></a>
    <strong>set_cache_dir (str)</strong>
    </dt>
    <dd>
    Set folder for storing cache files of this library.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_first_monday"></a>
    <strong>set_first_monday (arg)</strong>
    </dt>
    <dd>
    Set date of first Monday of teaching interval (multiple allowed).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arg</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_break_week"></a>
    <strong>set_break_week (arg)</strong>
    </dt>
    <dd>
    Set last week before mid-interval break (multiple allowed).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arg</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_break_length"></a>
    <strong>set_break_length (arg)</strong>
    </dt>
    <dd>
    Set number of weeks of mid-interval break (multiple allowed).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">arg</span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_http_Functions"></a>canvas-lms.http Functions</h2>

    <dl class="function">
    <dt>
    <a name = "get_pages"></a>
    <strong>get_pages (download_bool, req, opt_arg)</strong>
    </dt>
    <dd>
    Paginated GET.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">download_bool</span>
         true | false | "ask"
        </li>
        <li><span class="parameter">req</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL stub to GET from
        </li>
        <li><span class="parameter">opt_arg</span>
         table of optional parameters
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         REST result</p>

<p> This is the workhorse function for most commands that retrieve data from Canvas.
 Most REST interfaces use pagination to control sizes of return data.
 This requires iteration of multiple requests to return a full collection of information.
 Since this can be quite slow, this function has a built-in cache feature that stores
 the data to disk and if desired re-reads this cache instead of slowly requesting the data again.
 Where the cache is stored can be customised in the config file.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">canvas:get_pages(<span class="keyword">true</span>,self.course_prefix..<span class="string">"assignments"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "define_getter"></a>
    <strong>define_getter (field_name, index_name_arg, opt_default)</strong>
    </dt>
    <dd>
    Define getter function to retrieve and store item metadata.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">field_name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
          Name of REST field to store item data
        </li>
        <li><span class="parameter">index_name_arg</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
          Name of metadata field to reference item data (default: <code>&quot;name&quot;</code>)
        </li>
        <li><span class="parameter">opt_default</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Default options to pass to REST call
 Custom argument: <code>download</code> = <code>true</code> | <code>false</code> | <code>&quot;ask&quot;</code>
        </li>
    </ul>





</dd>
    <dt>
    <a name = "get"></a>
    <strong>get (req, opt)</strong>
    </dt>
    <dd>
    Wrapper for GET.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">req</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL stub to GET from
        </li>
        <li><span class="parameter">opt</span>
         table of optional parameters
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        REST result
    </ol>




</dd>
    <dt>
    <a name = "post"></a>
    <strong>post (req, opt)</strong>
    </dt>
    <dd>
    Wrapper for POST.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">req</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL stub to POST to
        </li>
        <li><span class="parameter">opt</span>
         table of optional parameters
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        REST result
    </ol>




</dd>
    <dt>
    <a name = "put"></a>
    <strong>put (req, opt)</strong>
    </dt>
    <dd>
    Wrapper for PUT.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">req</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL stub to PUT to
        </li>
        <li><span class="parameter">opt</span>
         table of optional parameters
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        REST result
    </ol>




</dd>
    <dt>
    <a name = "delete"></a>
    <strong>delete (req, opt)</strong>
    </dt>
    <dd>
    Wrapper for DELETE.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">req</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         URL stub to DELETE from
        </li>
        <li><span class="parameter">opt</span>
         table of optional parameters
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        REST result
    </ol>




</dd>
    <dt>
    <a name = "file_upload"></a>
    <strong>file_upload (opt)</strong>
    </dt>
    <dd>
    Upload a file to a Canvas course
 The process for uploading files to Canvas is <a href="https://canvas.instructure.com/doc/api/file.file_uploads.html#method.file_uploads.post">documented here</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">opt</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Required argument <code>opt.filename</code> specifies filename to upload.
 <code>opt.filepath..&quot;/&quot;..opt.filename</code> defines where the file is to be found in the local filesystem.
 File will be uploaded in the root directory for the course or as specified by <code>opt.folder</code>.
 Additional arguments specified in the <a href="https://canvas.instructure.com/doc/api/files.html#method.files.api_update">Canvas Files API</a>.
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_datetime_Functions"></a>canvas-lms.datetime Functions</h2>

    <dl class="function">
    <dt>
    <a name = "datetime"></a>
    <strong>datetime (args)</strong>
    </dt>
    <dd>
    Calculate the datetime from a table of "logical" date and time declarations.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_assign_Functions"></a>canvas-lms.assign Functions</h2>

    <dl class="function">
    <dt>
    <a name = "get_assignments"></a>
    <strong>get_assignments ()</strong>
    </dt>
    <dd>
    Get assignments
 Data stored in <code>.assignments</code> table, indexed by assignment <code>name</code>.







</dd>
    <dt>
    <a name = "get_assignment_groups"></a>
    <strong>get_assignment_groups ()</strong>
    </dt>
    <dd>
    Get assignment groups IDs.
 Gets details of each assignment group and stores their IDs for later lookup. Data stored in |self.assignment_groups|.







</dd>
    <dt>
    <a name = "assign_group_args"></a>
    <strong>assign_group_args</strong>
    </dt>
    <dd>
    Setup assignment group arguments
 The function <a href="index.html#setup_assignment_groups">canvas:setup_assignment_groups</a> takes a single table of arguments.
 The table should be an ordered list


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">name</span>
         The name of the assignment
        </li>
        <li><span class="parameter">weight</span>
         The weighting of the assignment group
        </li>
    </ul>





</dd>
    <dt>
    <a name = "setup_assignment_groups"></a>
    <strong>setup_assignment_groups (args)</strong>
    </dt>
    <dd>
    Set up assignment groups.
 If any assignment group weightings are specified, the course setting to enable assignment weightings is enabled.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         list of tables with fields defined by <a href="index.html#assign_group_args">assign_group_args</a>
        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_assignment"></a>
    <strong>get_assignment (use_cache_bool, assign_name, assign_opts)</strong>
    </dt>
    <dd>
    Get full details of a single assignment


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">use_cache_bool</span>
            <span class="types"><span class="type">bool</span></span>
         Don't download if cache available?
        </li>
        <li><span class="parameter">assign_name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of the assignment
        </li>
        <li><span class="parameter">assign_opts</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Additional REST arguments (link)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "create_assignment_args"></a>
    <strong>create_assignment_args</strong>
    </dt>
    <dd>
    Create assignment arguments


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">ask</span>



        </li>
        <li><span class="parameter">student_group_category</span>
         (implies a group submission)
        </li>
        <li><span class="parameter">omit_from_final_grade</span>



        </li>
        <li><span class="parameter">assign_type</span>
         one of {"online<em>quiz","none","on</em>paper","discussion<em>topic","external</em>tool"}
        </li>
        <li><span class="parameter">due</span>



        </li>
        <li><span class="parameter">unlock</span>



        </li>
        <li><span class="parameter">lock</span>



        </li>
        <li><span class="parameter">published</span>



        </li>
        <li><span class="parameter">description</span>



        </li>
        <li><span class="parameter">descr_file</span>



        </li>
        <li><span class="parameter">rubric</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "create_assignment"></a>
    <strong>create_assignment (args)</strong>
    </dt>
    <dd>
    Create a Canvas assignment.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         arguments (see <a href="index.html#create_assignment_args">create_assignment_args</a>)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "check_assignments"></a>
    <strong>check_assignments ()</strong>
    </dt>
    <dd>
    Compare assignments in Canvas to what has been defined locally.







</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_discuss_Functions"></a>canvas-lms.discuss Functions</h2>

    <dl class="function">
    <dt>
    <a name = "get_discussion_topics"></a>
    <strong>get_discussion_topics ()</strong>
    </dt>
    <dd>
    Get discussion topics and store their metadata and IDs.







</dd>
    <dt>
    <a name = "setup_discussion_topics"></a>
    <strong>setup_discussion_topics (args)</strong>
    </dt>
    <dd>
    Create/edit up discussion topics.
 Generally I like to set up all discussion topics once at the beginning of semester.
 Due to interface confusion I also prefer to keep a "frozen" list of discussion topics and
 not allow students to create their own.
 Defaults to published and nested.
 TODO: logical week conversion for delayed posting.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>

<p> Table of tables with REST arguments (see <a href="https://erau.instructure.com/doc/api/discussion_topics.html#method.discussion_topics.create">Canvas API documentation</a>).
 Usage:</p>
<pre><code> canvas:setup_discussion_topics{
   { title = "Course Q&amp;A" , pinned = true },
   { title = "Assign 1 discussion" },
   { title = "Assign 2 discussion" },
 }
</code></pre>

        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_grades_Functions"></a>canvas-lms.grades Functions</h2>

    <dl class="function">
    <dt>
    <a name = "get_grade_columns"></a>
    <strong>get_grade_columns ()</strong>
    </dt>
    <dd>
    Retrieve and store the names and IDs of any added custom gradebook columns







</dd>
    <dt>
    <a name = "setup_grade_columns"></a>
    <strong>setup_grade_columns (columns)</strong>
    </dt>
    <dd>
    Create custom gradebook columns
 Currently this function only creates, not updates!


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">columns</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_assign_grades"></a>
    <strong>get_assign_grades (opt)</strong>
    </dt>
    <dd>
    Retrieve and store grades from specified assignments


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">opt</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "write_grades"></a>
    <strong>write_grades (gfile, assign_names)</strong>
    </dt>
    <dd>
    Write grades to CSV from specified assignments


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">gfile</span>



        </li>
        <li><span class="parameter">assign_names</span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_message_Functions"></a>canvas-lms.message Functions</h2>

    <dl class="function">
    <dt>
    <a name = "message_user_args"></a>
    <strong>message_user_args</strong>
    </dt>
    <dd>
    Message user table arguments.
 The function <a href="index.html#message_user">canvas:message_user</a> takes a table of arguments to define the message to send.
 The table may consist of the following


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">canvasid</span>
         The Canvas ID(s) of the recipient (reqd)
        </li>
        <li><span class="parameter">subject</span>
          The subject of the message to send
        </li>
        <li><span class="parameter">body</span>

<pre><code> The body text of the message to send
</code></pre>

        </li>
        <li><span class="parameter">course</span>
           The Canvas course ID to send from (defaults to defined course)
        </li>
        <li><span class="parameter">group_conversation</span>
           Whether a group message is sent (true, default) or multiple individual messages are sent (false) if multiple IDs are included
        </li>
    </ul>





</dd>
    <dt>
    <a name = "message_user"></a>
    <strong>message_user (send_check, msg)</strong>
    </dt>
    <dd>
    Message a specific Canvas user.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">send_check</span>
            <span class="types"><span class="type">bool</span></span>
         Toggle whether to truly send the message or just to pretty print it to the screen
        </li>
        <li><span class="parameter">msg</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         table with entries to define message according to <a href="index.html#message_user_args">message_user_args</a>
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_modules_pages_Functions"></a>canvas-lms.modules-pages Functions</h2>

    <dl class="function">
    <dt>
    <a name = "get_modules"></a>
    <strong>get_modules ()</strong>
    </dt>
    <dd>
    Get all Canvas modules and store their metadata.
 Data stored in <code>.modules</code> table, indexed by module <code>name</code>.







</dd>
    <dt>
    <a name = "setup_modules"></a>
    <strong>setup_modules (modules)</strong>
    </dt>
    <dd>
    Create/edit all modules.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modules</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
           List of ordered module names to create.
 If names are different than the modules currently defined, new ones are created and/or
 current modules are re-ordered.
 If modules exist that aren't specified, the function will offer to delete them (case-by-case).
        </li>
    </ul>





</dd>
    <dt>
    <a name = "update_module"></a>
    <strong>update_module (module_name, ask, items)</strong>
    </dt>
    <dd>
    Create/edit contents of an individual module.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">module_name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">ask</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         of whether to proceed — <em>empty</em> asks, or |"y"| does, or <em>anything else</em> does not
        </li>
        <li><span class="parameter">items</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         (see <a href="https://canvas.instructure.com/doc/api/modules.html#method.context_module_items_api.create">Canvas API documentation</a> for raw syntax)
 Table of module items has some shorthand definitions defined in the code. TODO: document these properly.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "check_modules"></a>
    <strong>check_modules ()</strong>
    </dt>
    <dd>
    Suite of sanity checks for all Canvas modules.
 * Checks if published module is empty
 * Checks if published items are located in unpublished module
 * More to come…







</dd>
</dl>
    <h2 class="section-header "><a name="canvas_lms_rubrics_Functions"></a>canvas-lms.rubrics Functions</h2>

    <dl class="function">
    <dt>
    <a name = "get_rubrics"></a>
    <strong>get_rubrics ()</strong>
    </dt>
    <dd>
    Get all course rubrics and store their metadata.
 Data stored in: <code>.rubrics</code> table indexed by <code>title</code> of the rubric.







</dd>
    <dt>
    <a name = "send_rubric"></a>
    <strong>send_rubric (self, rubric)</strong>
    </dt>
    <dd>
    Send a rubric to Canvas.
 Note that rubrics are first defined independently from assignments, and later associated with an assignment.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>



        </li>
        <li><span class="parameter">rubric</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         definition
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="index.html#assoc_rubric">canvas.assoc_rubric</a>
    </ul>


</dd>
    <dt>
    <a name = "assoc_rubric"></a>
    <strong>assoc_rubric (self, args)</strong>
    </dt>
    <dd>
    Associate a rubric to an assignment.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>



        </li>
        <li><span class="parameter">args</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         arguments
        </li>
    </ul>





</dd>
    <dt>
    <a name = "rubric_from_csv"></a>
    <strong>rubric_from_csv (csvfile)</strong>
    </dt>
    <dd>
    Read in a carefully structure CSV file and convert it into a rubric.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">csvfile</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "setup_csv_rubrics"></a>
    <strong>setup_csv_rubrics (self, args)</strong>
    </dt>
    <dd>
    Read a collection of CSV files and create rubrics from them all.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>



        </li>
        <li><span class="parameter">args</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         arguments
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-07-11 14:38:05 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
